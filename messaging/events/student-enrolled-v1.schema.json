{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/EduGoGroup/edugo-infrastructure/schemas/events/student-enrolled-v1",
  "title": "Student Enrolled Event",
  "description": "Evento publicado cuando un estudiante es inscrito en una escuela/curso",
  "type": "object",
  "required": ["event_id", "event_type", "event_version", "timestamp", "payload"],
  "properties": {
    "event_id": {
      "type": "string",
      "format": "uuid"
    },
    "event_type": {
      "type": "string",
      "const": "student.enrolled"
    },
    "event_version": {
      "type": "string",
      "const": "1.0"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "payload": {
      "type": "object",
      "required": ["student_id", "school_id", "membership_id"],
      "properties": {
        "student_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID del estudiante"
        },
        "school_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID de la escuela"
        },
        "academic_unit_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID de la unidad académica (curso/clase)"
        },
        "membership_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID del membership creado"
        },
        "enrolled_by_user_id": {
          "type": "string",
          "format": "uuid",
          "description": "ID del admin/teacher que inscribió al estudiante"
        }
      }
    }
  },
  "additionalProperties": false
}
